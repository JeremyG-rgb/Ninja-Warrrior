!function(e){function webpackJsonpCallback(t){for(var i,a,o=t[0],c=t[1],l=t[2],s=0,f=[];s<o.length;s++)a=o[s],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&f.push(n[a][0]),n[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,l||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,o=1;o<i.length;o++){var u=i[o];0!==n[u]&&(a=!1)}a&&(r.splice(t--,1),e=__webpack_require__(__webpack_require__.s=i[0]))}return e}var t={},n={0:0},r=[];function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="";var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=webpackJsonpCallback,i=i.slice();for(var o=0;o<i.length;o++)webpackJsonpCallback(i[o]);var u=a;r.push([37,1]),checkDeferredModules()}({100:function(e,t,n){"use strict";var r=n(12);n(18),n(21),n(22);var i=r(n(15)),a=r(n(16)),o=r(n(23)),u=r(n(24)),c=r(n(17));function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AScene=void 0;var l=function(e){(0,o.default)(AScene,e);var t=_createSuper(AScene);function AScene(){return(0,i.default)(this,AScene),t.call(this)}return(0,a.default)(AScene,[{key:"initialize",value:function initialize(){}},{key:"transitionIntroCompleted",value:function transitionIntroCompleted(){}},{key:"update",value:function update(e){}},{key:"dispose",value:function dispose(){}}]),AScene}(n(25).Container);t.AScene=l},101:function(e,t,n){"use strict";var r=n(12);n(18),n(21),n(22);var i=r(n(15)),a=r(n(16)),o=r(n(23)),u=r(n(24)),c=r(n(17));function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=t.Player=void 0;var l,s=n(25),f=function(e){(0,o.default)(Player,e);var t=_createSuper(Player);function Player(e){var n;return(0,i.default)(this,Player),(n=t.call(this,e)).direction=l.Idle,n._hit=!1,n._speed=1,n}return(0,a.default)(Player,[{key:"hit",get:function get(){return this._hit},set:function set(e){this.texture=s.Texture.from("ninja.png"),this._hit=e}}]),Player}(n(102).AObject);t.Player=f,function(e){e[e.Up=0]="Up",e[e.Idle=1]="Idle",e[e.Right=2]="Right"}(l=t.Direction||(t.Direction={}))},102:function(e,t,n){"use strict";var r=n(12);n(18),n(21),n(22);var i=r(n(15)),a=r(n(16)),o=r(n(23)),u=r(n(24)),c=r(n(17));function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AObject=void 0;var l=function(e){(0,o.default)(AObject,e);var t=_createSuper(AObject);function AObject(e){var n;return(0,i.default)(this,AObject),(n=t.call(this,e)).kill=!1,n}return(0,a.default)(AObject,[{key:"update",value:function update(e){}},{key:"getWidth",value:function getWidth(){return this.width}},{key:"getHeihght",value:function getHeihght(){return this.height}}]),AObject}(n(25).Sprite);t.AObject=l},104:function(e,t,n){"use strict";var r=n(12),i=r(n(15)),a=r(n(16));Object.defineProperty(t,"__esModule",{value:!0}),t.Maths=void 0;var o=function(){function Maths(){(0,i.default)(this,Maths)}return(0,a.default)(Maths,null,[{key:"hitTest",value:function hitTest(e,t,n,r,i,a,o,u){return e+n>i&&e<i+o&&t+r>a&&t<a+u}},{key:"getBestFitRatio",value:function getBestFitRatio(e,t){return t.height/t.width>e.height/e.width?t.width/e.width:t.height/e.height}},{key:"getFillRatio",value:function getFillRatio(e,t){return t.height/t.width>e.height/e.width?t.height/e.height:t.width/e.width}},{key:"randomFloatBetweenTwoNumbers",value:function randomFloatBetweenTwoNumbers(e,t){return Math.random()*(e-t)+t}},{key:"randomIntBetweenTwoNumbers",value:function randomIntBetweenTwoNumbers(e,t){return Math.floor(Math.random()*(e-t)+t)}},{key:"fixedFloat",value:function fixedFloat(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}}]),Maths}();t.Maths=o},37:function(e,t,n){"use strict";var r=n(12);n(18),n(21),n(22);var i=r(n(15)),a=r(n(16)),o=r(n(54)),u=r(n(23)),c=r(n(24)),l=r(n(17));function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var s=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function get(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},f=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0,n(87);var d=__importStar(n(57)),_=n(25),p=n(97),h=n(104),y=function(e){(0,u.default)(Main,e);var t=_createSuper(Main);function Main(){var e;return(0,i.default)(this,Main),(e=t.call(this,{backgroundColor:0,width:Main.SCREEN_WIDTH,height:Main.SCREEN_HEIGHT,resizeTo:window,autoDensity:!0,resolution:window.devicePixelRatio||1})).playing=!0,e._scene=null,e._newScene=null,e._loader=new _.Loader,e._container=new _.Container,Main._instance=(0,o.default)(e),document.body.appendChild(e.view),e.start(),e._loader.add("assets/paysage.json"),e._loader.add("assets/ninja.json"),e._loader.add("assets/FEnemy.json"),e._loader.add("assets/sprites.json"),e._loader.add("assets/ground.json"),e._loader.load(e._onLoaded.bind((0,o.default)(e))),window.onfocus=e._windowGetFocus.bind((0,o.default)(e)),window.onblur=e._windowLostFocus.bind((0,o.default)(e)),e}return(0,a.default)(Main,[{key:"_onLoaded",value:function _onLoaded(){this.ticker.add(this.update,this),window.onresize=this._onResize.bind(this);var e=new _.Graphics;e.beginFill(0),e.drawRect(0,0,Main.SCREEN_WIDTH,Main.SCREEN_HEIGHT),e.endFill(),this._container.addChild(e),(e=new _.Graphics).beginFill(0),e.drawRect(0,0,Main.SCREEN_WIDTH,Main.SCREEN_HEIGHT),e.endFill(),this._container.mask=e,this._container.addChild(e),this.stage.addChild(this._container),this._onResize(),this.scene=new p.Game}},{key:"update",value:function update(){var e=this;if(this.playing){if(this._newScene){var t=!1;if(this._scene){var n=this._scene;t=!0,d.default.to(n,{duration:.5,x:-Main.SCREEN_WIDTH,ease:d.Linear.easeNone,onComplete:function onComplete(){n.dispose(),e._container.removeChild(n)}})}this._scene=this._newScene,this._newScene=null,t&&(this._scene.x=Main.SCREEN_WIDTH,d.default.to(this._scene,{duration:.5,x:0,ease:d.Linear.easeNone,onComplete:function onComplete(){var t;return null===(t=e._scene)||void 0===t?void 0:t.transitionIntroCompleted()}})),this._container.addChild(this._scene),this._scene.initialize()}this._scene&&this._scene.update(this.ticker.deltaTime)}}},{key:"_onResize",value:function _onResize(){var e=window.innerWidth,t=window.innerHeight,n=h.Maths.getBestFitRatio(new _.Rectangle(0,0,Main.SCREEN_WIDTH,Main.SCREEN_HEIGHT),new _.Rectangle(0,0,e,t));this.renderer.resize(e,t),this.resize(),this._container.scale.set(n);var r=e/2-Main.SCREEN_WIDTH*n/2,i=t/2-Main.SCREEN_HEIGHT*n/2;this._container.position.set(r,i),window.scrollTo(0,0)}},{key:"_windowGetFocus",value:function _windowGetFocus(){this.playing=!0}},{key:"_windowLostFocus",value:function _windowLostFocus(){this.playing=!1}},{key:"scene",get:function get(){return null!=this._newScene?this._newScene:this._scene},set:function set(e){this._newScene=e}},{key:"container",get:function get(){return this._container}}],[{key:"instance",get:function get(){return Main._instance}}]),Main}(_.Application);t.Main=y,y.SCREEN_WIDTH=800,y.SCREEN_HEIGHT=640,new y},87:function(e,t,n){"use strict";n.r(t)},97:function(e,t,n){"use strict";var r=n(12);n(18),n(21),n(22);var i=r(n(15)),a=r(n(16)),o=r(n(98)),u=r(n(23)),c=r(n(24)),l=r(n(17));function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var s=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function get(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},f=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return f(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var d=n(100),_=n(101),p=n(25),h=__importDefault(n(103)),y=n(37),v=__importStar(n(57)),g=function(e){(0,u.default)(Game,e);var t=_createSuper(Game);function Game(){var e;return(0,i.default)(this,Game),(e=t.call(this))._time=0,e._objects=[],e._instruction=!1,e._instructionalreadyshown=!1,e._player=new _.Player(p.Texture.from("NinjaAttaque-2.png")),e._win=!1,e._ninja=p.AnimatedSprite.fromFrames(["MarcheNinja-0.png","MarcheNinja-1.png","MarcheNinja-2.png","MarcheNinja-3.png","MarcheNinja-4.png","MarcheNinja-5.png","MarcheNinja-6.png"]),e._Aninja=p.AnimatedSprite.fromFrames(["NinjaAttaque-0.png","NinjaAttaque-1.png","NinjaAttaque-2.png","NinjaAttaque-3.png","NinjaAttaque-4.png"]),e._Mninja=p.AnimatedSprite.fromFrames(["MortNinja-0.png","MortNinja-1.png","MortNinja-2.png"]),e._enemy=p.AnimatedSprite.fromFrames(["ChampiWalk1.png","ChampiWalk2.png","ChampiWalk3.png","ChampiWalk4.png"]),e._Denemy=p.AnimatedSprite.fromFrames(["ChampiDeath1.png","ChampiDeath2.png","ChampiDeath3.png","ChampiDeath4.png"]),h.default.Sound.from({url:"assets/Musique/Schizo.mp3",autoPlay:!0,complete:function complete(){}}),e._ground=new p.TilingSprite(p.Texture.from("ground.jpg"),1620,100),e._ground.y=y.Main.SCREEN_HEIGHT-e._ground.height,e.addChild(e._ground),e._paysage=new p.TilingSprite(p.Texture.from("Paysage.png"),5e3,570),e._paysage.y=20,e.addChild(e._paysage),e._ninja.x=-800,e._ninja.y=264.5,e.addChild(e._ninja),e._ninja.animationSpeed=.1,e._ninja.play(),e._enemy.x=1e3,e._enemy.y=400,e.addChild(e._enemy),e._enemy.animationSpeed=.1,e._enemy.play(),v.default.to(e._ninja,{duration:3,x:y.Main.SCREEN_WIDTH/4,ease:v.Circ.easeOut}),e}return(0,a.default)(Game,[{key:"_onKeyboard",value:function _onKeyboard(e){"Up"==e.key?this._player.direction="keydown"==e.type?_.Direction.Up:_.Direction.Idle:"ArrowRight"==e.key&&(this._player.direction="keydown"==e.type?_.Direction.Right:_.Direction.Idle)}},{key:"update",value:function update(e){(0,o.default)((0,l.default)(Game.prototype),"update",this).call(this,e),this._ground.tilePosition.x-=1,this._enemy.x-=0,this._enemy.x-=1,this._enemy.x<y.Main.SCREEN_WIDTH&&y.Main.instance.stage.emit("GAME_OVER"),this._ninja.x>y.Main.SCREEN_WIDTH&&y.Main.instance.stage.emit("GAME_OVER")}}]),Game}(d.AScene);t.Game=g}});